{"version":3,"sources":["components/btnConfig.js","components/AppCalcu.jsx","App.js","index.js"],"names":["BTN_ACTIONS","ADD","THEME","CALC","DELETE","btns","display","action","class","AppCalcu","btnsRef","useRef","expRef","useState","expression","setExpression","useEffect","Array","from","current","querySelectorAll","forEach","e","style","height","offsetWidth","btnClick","item","console","log","expDiv","document","body","classList","toggle","addAnimSpan","oper","parentNode","querySelector","innerHTML","trim","length","remove","cloneNode","appendChild","transform","offsetHeight","res","eval","toString","setTimeout","Math","floor","content","span","createElement","opacity","width","className","ref","map","idx","onClick","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.78766ce4.chunk.js","sourcesContent":["export const BTN_ACTIONS = {\r\n  ADD: 'ADD',\r\n  THEME: 'THEME',\r\n  CALC: 'CALC',\r\n  DELETE: 'DELETE'\r\n}\r\n\r\nexport const btns = [\r\n  {\r\n      display: 'C',\r\n      action: BTN_ACTIONS.DELETE,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: '(',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: ')',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: '/',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: '7',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '8',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '9',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: 'x',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: '4',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '5',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '6',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '-',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: '1',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '2',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '3',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '+',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: 'btn__op'\r\n  },\r\n  {\r\n      display: '☀️',\r\n      action: BTN_ACTIONS.THEME,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '0',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '.',\r\n      action: BTN_ACTIONS.ADD,\r\n      class: ''\r\n  },\r\n  {\r\n      display: '=',\r\n      action: BTN_ACTIONS.CALC,\r\n      class: 'btn__op'\r\n  }\r\n];","import React, { useRef, useEffect, useState } from \"react\";\r\nimport \"./AppCalcu.css\";\r\nimport { btns, BTN_ACTIONS } from \"./btnConfig\";\r\n\r\nexport default function AppCalcu() {\r\n  const btnsRef = useRef(null);\r\n  const expRef = useRef(null);\r\n  const [expression, setExpression] = useState(\"\");\r\n  useEffect(() => {\r\n    const btns = Array.from(btnsRef.current.querySelectorAll(\"button\"));\r\n    btns.forEach((e) => (e.style.height = e.offsetWidth + \"px\"));\r\n  }, []);\r\n\r\n  const btnClick = (item) => {\r\n    console.log(item);\r\n    const expDiv = expRef.current;\r\n\r\n    if (item.action === BTN_ACTIONS.THEME)\r\n      document.body.classList.toggle(\"dark\");\r\n\r\n    if (item.action === BTN_ACTIONS.ADD) {\r\n      addAnimSpan(item.display);\r\n\r\n      const oper = item.display !== \"x\" ? item.display : \"*\";\r\n\r\n      setExpression(expression + oper);\r\n    }\r\n\r\n    if (item.action === BTN_ACTIONS.DELETE) {\r\n      expDiv.parentNode.querySelector(\"div:last-child\").innerHTML = \"\";\r\n      expDiv.innerHTML = \"\";\r\n\r\n      setExpression(\"\");\r\n    }\r\n\r\n    if (item.action === BTN_ACTIONS.CALC) {\r\n      if (expression.trim().length <= 0) return;\r\n\r\n      expDiv.parentNode.querySelector(\"div:last-child\").remove();\r\n\r\n      const cloneNode = expDiv.cloneNode(true);\r\n      expDiv.parentNode.appendChild(cloneNode);\r\n\r\n      \r\n\r\n      const transform = `translateY(${\r\n        -(expDiv.offsetHeight + 10) + \"px\"\r\n      }) scale(0.4)`;\r\n\r\n      ///\r\n      try {\r\n        let res = eval(expression);\r\n\r\n        setExpression(res.toString());\r\n        setTimeout(() => {\r\n          cloneNode.style.transform = transform;\r\n          expDiv.innerHTML = \"\";\r\n          addAnimSpan(Math.floor(res * 100000000) / 100000000);\r\n        }, 200);\r\n      } catch {\r\n        setTimeout(() => {\r\n          cloneNode.style.transform = transform;\r\n          cloneNode.innerHTML = \"Syntax Err\";\r\n        }, 200);\r\n      } finally {\r\n        console.log(\"calc complete\");\r\n      }\r\n    }\r\n  };\r\n  const addAnimSpan = (content) => {\r\n    const expDiv = expRef.current;\r\n    const span = document.createElement(\"span\");\r\n\r\n    span.innerHTML = content;\r\n    span.style.opacity = \"0\";\r\n\r\n    expDiv.appendChild(span);\r\n\r\n    const width = span.offsetWidth + \"px\";\r\n    span.style.width = \"0\";\r\n\r\n    setTimeout(() => {\r\n      span.style.opacity = \"1\";\r\n      span.style.width = width;\r\n    }, 100);\r\n  };\r\n\r\n  return (\r\n    <div className=\"calculator\">\r\n      <div className=\"calcu_result\">\r\n        <div ref={expRef} className=\"calcu_result_exp\"></div>\r\n        <div className=\"calcu_result_exp\"></div>\r\n      </div>\r\n      <div ref={btnsRef} className=\"calcu_btns\">\r\n        {btns.map((item, idx) => (\r\n          <button\r\n            onClick={() => {\r\n              btnClick(item);\r\n            }}\r\n            key={idx}\r\n            className={item.class}\r\n          >\r\n            {item.display}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport AppCalcu from \"./components/AppCalcu\";\nfunction App() {\n  return <AppCalcu />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}